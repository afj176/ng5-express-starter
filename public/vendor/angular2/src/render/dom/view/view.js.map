{"version":3,"sources":["view.es6"],"names":[],"mappings":"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","file":"angular2/src/render/dom/view/view.js","sourcesContent":["import {assert} from \"rtts_assert/rtts_assert\";\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {ListWrapper,\n  MapWrapper,\n  Map,\n  StringMapWrapper,\n  List} from 'angular2/src/facade/collection';\nimport {int,\n  isPresent,\n  isBlank,\n  BaseException} from 'angular2/src/facade/lang';\nimport {ViewContainer} from './view_container';\nimport {RenderProtoView} from './proto_view';\nimport {LightDom} from '../shadow_dom/light_dom';\nimport {Content} from '../shadow_dom/content_tag';\nconst NG_BINDING_CLASS = 'ng-binding';\nexport class RenderView {\n  constructor(proto, rootNodes, boundTextNodes, boundElements, contentTags) {\n    assert.argumentTypes(proto, RenderProtoView, rootNodes, List, boundTextNodes, List, boundElements, List, contentTags, List);\n    this.proto = proto;\n    this.rootNodes = rootNodes;\n    this.boundTextNodes = boundTextNodes;\n    this.boundElements = boundElements;\n    this.viewContainers = ListWrapper.createFixedSize(boundElements.length);\n    this.contentTags = contentTags;\n    this.lightDoms = ListWrapper.createFixedSize(boundElements.length);\n    ListWrapper.fill(this.lightDoms, null);\n    this.componentChildViews = ListWrapper.createFixedSize(boundElements.length);\n    this.hostLightDom = null;\n    this.hydrated = false;\n    this.eventHandlerRemovers = [];\n    this.imperativeHostViews = [];\n  }\n  getDirectParentLightDom(boundElementIndex) {\n    assert.argumentTypes(boundElementIndex, assert.type.number);\n    var binder = this.proto.elementBinders[boundElementIndex];\n    var destLightDom = null;\n    if (binder.parentIndex !== -1 && binder.distanceToParent === 1) {\n      destLightDom = this.lightDoms[binder.parentIndex];\n    }\n    return destLightDom;\n  }\n  getOrCreateViewContainer(binderIndex) {\n    var vc = this.viewContainers[binderIndex];\n    if (isBlank(vc)) {\n      vc = new ViewContainer(this, binderIndex);\n      this.viewContainers[binderIndex] = vc;\n    }\n    return vc;\n  }\n  setElementProperty(elementIndex, propertyName, value) {\n    assert.argumentTypes(elementIndex, assert.type.number, propertyName, assert.type.string, value, assert.type.any);\n    var setter = MapWrapper.get(this.proto.elementBinders[elementIndex].propertySetters, propertyName);\n    setter(this.boundElements[elementIndex], value);\n  }\n  setText(textIndex, value) {\n    assert.argumentTypes(textIndex, assert.type.number, value, assert.type.string);\n    DOM.setText(this.boundTextNodes[textIndex], value);\n  }\n  getViewContainer(index) {\n    assert.argumentTypes(index, assert.type.number);\n    return assert.returnType((this.viewContainers[index]), ViewContainer);\n  }\n  setEventDispatcher(dispatcher) {\n    assert.argumentTypes(dispatcher, assert.type.any);\n    this._eventDispatcher = dispatcher;\n  }\n  dispatchEvent(elementIndex, eventName, event) {\n    var allowDefaultBehavior = true;\n    if (isPresent(this._eventDispatcher)) {\n      var evalLocals = MapWrapper.create();\n      MapWrapper.set(evalLocals, '$event', event);\n      allowDefaultBehavior = this._eventDispatcher.dispatchEvent(elementIndex, eventName, evalLocals);\n      if (!allowDefaultBehavior) {\n        event.preventDefault();\n      }\n    }\n    return assert.returnType((allowDefaultBehavior), assert.type.boolean);\n  }\n}\nObject.defineProperty(RenderView, \"parameters\", {get: function() {\n    return [[RenderProtoView], [List], [List], [List], [List]];\n  }});\nObject.defineProperty(RenderView.prototype.getDirectParentLightDom, \"parameters\", {get: function() {\n    return [[assert.type.number]];\n  }});\nObject.defineProperty(RenderView.prototype.setElementProperty, \"parameters\", {get: function() {\n    return [[assert.type.number], [assert.type.string], [assert.type.any]];\n  }});\nObject.defineProperty(RenderView.prototype.setText, \"parameters\", {get: function() {\n    return [[assert.type.number], [assert.type.string]];\n  }});\nObject.defineProperty(RenderView.prototype.getViewContainer, \"parameters\", {get: function() {\n    return [[assert.type.number]];\n  }});\nObject.defineProperty(RenderView.prototype.setEventDispatcher, \"parameters\", {get: function() {\n    return [[assert.type.any]];\n  }});\n//# sourceMappingURL=view.js.map\n\n//# sourceMappingURL=./view.map"]}