{"version":3,"sources":["async.es6"],"names":[],"mappings":"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","file":"angular2/src/facade/async.js","sourcesContent":["import {assert} from \"rtts_assert/rtts_assert\";\nimport {int,\n  global,\n  isPresent} from 'angular2/src/facade/lang';\nimport {List} from 'angular2/src/facade/collection';\nimport Rx from 'rx/dist/rx.all';\nexport var Promise = global.Promise;\nexport class PromiseWrapper {\n  static resolve(obj) {\n    return assert.returnType((Promise.resolve(obj)), Promise);\n  }\n  static reject(obj) {\n    return assert.returnType((Promise.reject(obj)), Promise);\n  }\n  static catchError(promise, onError) {\n    assert.argumentTypes(promise, Promise, onError, Function);\n    return assert.returnType((promise.catch(onError)), Promise);\n  }\n  static all(promises) {\n    assert.argumentTypes(promises, List);\n    if (promises.length == 0)\n      return assert.returnType((Promise.resolve([])), Promise);\n    return assert.returnType((Promise.all(promises)), Promise);\n  }\n  static then(promise, success, rejection) {\n    assert.argumentTypes(promise, Promise, success, Function, rejection, Function);\n    return assert.returnType((promise.then(success, rejection)), Promise);\n  }\n  static completer() {\n    var resolve;\n    var reject;\n    var p = new Promise(function(res, rej) {\n      resolve = res;\n      reject = rej;\n    });\n    return {\n      promise: p,\n      resolve: resolve,\n      reject: reject\n    };\n  }\n  static setTimeout(fn, millis) {\n    assert.argumentTypes(fn, Function, millis, int);\n    global.setTimeout(fn, millis);\n  }\n  static isPromise(maybePromise) {\n    return assert.returnType((maybePromise instanceof Promise), assert.type.boolean);\n  }\n}\nObject.defineProperty(PromiseWrapper.catchError, \"parameters\", {get: function() {\n    return [[Promise], [Function]];\n  }});\nObject.defineProperty(PromiseWrapper.all, \"parameters\", {get: function() {\n    return [[List]];\n  }});\nObject.defineProperty(PromiseWrapper.then, \"parameters\", {get: function() {\n    return [[Promise], [Function], [Function]];\n  }});\nObject.defineProperty(PromiseWrapper.setTimeout, \"parameters\", {get: function() {\n    return [[Function], [int]];\n  }});\nexport class ObservableWrapper {\n  static subscribe(emitter, onNext, onThrow = null, onReturn = null) {\n    assert.argumentTypes(emitter, EventEmitter, onNext, assert.type.any, onThrow, assert.type.any, onReturn, assert.type.any);\n    return emitter.observer({\n      next: onNext,\n      throw: onThrow,\n      return: onReturn\n    });\n  }\n  static dispose(subscription) {\n    assert.argumentTypes(subscription, assert.type.any);\n    subscription.dispose();\n  }\n  static isObservable(obs) {\n    return assert.returnType((obs instanceof Observable), assert.type.boolean);\n  }\n  static callNext(emitter, value) {\n    assert.argumentTypes(emitter, EventEmitter, value, assert.type.any);\n    emitter.next(value);\n  }\n  static callThrow(emitter, error) {\n    assert.argumentTypes(emitter, EventEmitter, error, assert.type.any);\n    emitter.throw(error);\n  }\n  static callReturn(emitter) {\n    assert.argumentTypes(emitter, EventEmitter);\n    emitter.return();\n  }\n}\nObject.defineProperty(ObservableWrapper.subscribe, \"parameters\", {get: function() {\n    return [[EventEmitter], [], [], []];\n  }});\nObject.defineProperty(ObservableWrapper.dispose, \"parameters\", {get: function() {\n    return [[assert.type.any]];\n  }});\nObject.defineProperty(ObservableWrapper.callNext, \"parameters\", {get: function() {\n    return [[EventEmitter], [assert.type.any]];\n  }});\nObject.defineProperty(ObservableWrapper.callThrow, \"parameters\", {get: function() {\n    return [[EventEmitter], [assert.type.any]];\n  }});\nObject.defineProperty(ObservableWrapper.callReturn, \"parameters\", {get: function() {\n    return [[EventEmitter]];\n  }});\nexport class Observable {\n  observer(generator) {\n    assert.argumentTypes(generator, Function);\n  }\n}\nObject.defineProperty(Observable.prototype.observer, \"parameters\", {get: function() {\n    return [[Function]];\n  }});\nexport class EventEmitter extends Observable {\n  constructor() {\n    super();\n    this._subject = new Rx.Subject();\n  }\n  observer(generator) {\n    return this._subject.observeOn(Rx.Scheduler.immediate).subscribe((value) => {\n      setTimeout(() => generator.next(value));\n    }, (error) => generator.throw ? generator.throw(error) : null, () => generator.return ? generator.return() : null);\n  }\n  toRx() {\n    return assert.returnType((this._subject), Rx.Observable);\n  }\n  next(value) {\n    this._subject.onNext(value);\n  }\n  throw(error) {\n    this._subject.onError(error);\n  }\n  return(value) {\n    this._subject.onCompleted();\n  }\n}\n//# sourceMappingURL=async.es6.map\n\n//# sourceMappingURL=./async.map"]}