{"version":3,"sources":["test_lib_spec.es6"],"names":[],"mappings":"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","file":"angular2/test/test_lib/test_lib_spec.js","sourcesContent":["import {assert} from \"rtts_assert/rtts_assert\";\nimport {describe,\n  it,\n  iit,\n  ddescribe,\n  expect,\n  tick,\n  async,\n  SpyObject,\n  beforeEach,\n  proxy} from 'angular2/test_lib';\nimport {MapWrapper} from 'angular2/src/facade/collection';\nimport {IMPLEMENTS} from 'angular2/src/facade/lang';\nclass TestObj {\n  constructor(prop) {\n    this.prop = prop;\n  }\n  someFunc() {\n    return assert.returnType((-1), assert.type.number);\n  }\n}\nclass SpyTestObj extends SpyObject {\n  constructor() {\n    super(TestObj);\n  }\n  noSuchMethod(m) {\n    return super.noSuchMethod(m);\n  }\n}\nObject.defineProperty(SpyTestObj, \"annotations\", {get: function() {\n    return [new proxy, new IMPLEMENTS(TestObj)];\n  }});\nexport function main() {\n  describe('test_lib', () => {\n    describe('equality', () => {\n      it('should structurally compare objects', () => {\n        var expected = new TestObj(new TestObj({'one': [1, 2]}));\n        var actual = new TestObj(new TestObj({'one': [1, 2]}));\n        var falseActual = new TestObj(new TestObj({'one': [1, 3]}));\n        expect(actual).toEqual(expected);\n        expect(falseActual).not.toEqual(expected);\n      });\n    });\n    describe('toEqual for Maps', () => {\n      it('should detect equality for same reference', () => {\n        var m1 = MapWrapper.createFromStringMap({'a': 1});\n        expect(m1).toEqual(m1);\n      });\n      it('should detect equality for same content', () => {\n        expect(MapWrapper.createFromStringMap({'a': 1})).toEqual(MapWrapper.createFromStringMap({'a': 1}));\n      });\n      it('should detect missing entries', () => {\n        expect(MapWrapper.createFromStringMap({'a': 1})).not.toEqual(MapWrapper.createFromStringMap({}));\n      });\n      it('should detect different values', () => {\n        expect(MapWrapper.createFromStringMap({'a': 1})).not.toEqual(MapWrapper.createFromStringMap({'a': 2}));\n      });\n      it('should detect additional entries', () => {\n        expect(MapWrapper.createFromStringMap({'a': 1})).not.toEqual(MapWrapper.createFromStringMap({\n          'a': 1,\n          'b': 1\n        }));\n      });\n    });\n    describe(\"spy objects\", () => {\n      var spyObj;\n      beforeEach(() => {\n        spyObj = new SpyTestObj();\n      });\n      it(\"should pass the runtime check\", () => {\n        var t = assert.type(spyObj, TestObj);\n        expect(t).toBeDefined();\n      });\n      it(\"should return a new spy func with no calls\", () => {\n        expect(spyObj.spy(\"someFunc\")).not.toHaveBeenCalled();\n      });\n      it(\"should record function calls\", () => {\n        spyObj.spy(\"someFunc\").andCallFake((a, b) => {\n          return a + b;\n        });\n        expect(spyObj.someFunc(1, 2)).toEqual(3);\n        expect(spyObj.spy(\"someFunc\")).toHaveBeenCalledWith(1, 2);\n      });\n      it(\"should support stubs\", () => {\n        var s = SpyObject.stub({\"a\": 1}, {\"b\": 2});\n        expect(s.a()).toEqual(1);\n        expect(s.b()).toEqual(2);\n      });\n      it('should create spys for all methods', () => {\n        expect(() => spyObj.someFunc()).not.toThrow();\n      });\n      it('should create a default spy that does not fail for numbers', () => {\n        expect(spyObj.someFunc()).toBe(null);\n      });\n    });\n  });\n}\n//# sourceMappingURL=test_lib_spec.js.map\n\n//# sourceMappingURL=./test_lib_spec.map"]}