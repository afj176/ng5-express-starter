{"version":3,"sources":["compiler_spec.es6"],"names":[],"mappings":"AAAA,KAAK,SAAS,AAAC,urBAAoB,UAAS,SAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6C7C,SAAS,KAAG,CAAE,AAAD;AAClB,WAAO,AAAC,CAAC,UAAS,CAAG,UAAS,AAAD;AAC3B,AAAI,QAAA,CAAA,MAAK;AACL,oBAAU;AACV,iBAAO;AACP,yBAAe;AACf,qBAAW;AACX,8BAAoB,CAAC;AACzB,eAAS,AAAC,EAAC,SAAC,AAAD,CAAM;AACf,aAAK,EAAI,IAAI,wBAAsB,AAAC,EAAC,CAAC;AACtC,kBAAU,EAAI,IAAI,qBAAmB,AAAC,EAAC,CAAC;AACxC,mBAAW,EAAI,IAAI,0BAAwB,AAAC,EAAC,CAAC;AAC9C,eAAO,EAAI,IAAI,YAAU,AAAC,EAAC,CAAC;MAC9B,EAAC,CAAC;AACF,aAAS,eAAa,CAAE,oBAAmB,CAAG,CAAA,uBAAsB;AAClE,aAAK,cAAc,AAAC,CAAC,oBAAmB,CAAG,KAAG,CAAG,wBAAsB,CAAG,CAAA,MAAK,YAAY,AAAC,CAAC,IAAG,CAAG,aAAW,CAAC,CAAC,CAAC;AACjH,AAAI,UAAA,CAAA,WAAU,EAAI,IAAI,gBAAc,AAAC,EAAC,CAAC;AACvC,4BAAoB,EAAI,GAAC,CAAC;AAC1B,eAAO,IAAI,AAAC,CAAC,SAAQ,CAAC,YAAY,AAAC,EAAC,SAAC,QAAO,CAAM;AAChD,oBAAU,KAAK,AAAC,CAAC,qBAAoB,CAAG,SAAO,CAAC,CAAC;AACjD,eAAO,CAAA,cAAa,QAAQ,AAAC,CAAC,WAAU,SAAS,AAAC,CAAC,oBAAmB,CAAG,EAAA,CAAC,CAAC,CAAC;QAC9E,EAAC,CAAC;AACF,uBAAe,EAAI,IAAI,qBAAmB,AAAC,CAAC,uBAAsB,CAAC,CAAC;AACpE,aAAO,IAAI,SAAO,AAAC,CAAC,MAAK,CAAG,IAAI,cAAY,AAAC,EAAC,CAAG,YAAU,CAAG,aAAW,CAAG,YAAU,CAAG,SAAO,CAAG,iBAAe,CAAC,CAAC;MACtH;AACA,WAAK,eAAe,AAAC,CAAC,cAAa,CAAG,aAAW,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AACjE,eAAO,EAAC,CAAC,IAAG,CAAC,CAAG,EAAC,MAAK,YAAY,AAAC,CAAC,IAAG,CAAG,aAAW,CAAC,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;AACL,aAAO,AAAC,CAAC,oBAAmB,GAAG,SAAC,AAAD;AAC7B,eAAS,gBAAc,CAAE,QAAO;AAC9B,eAAK,cAAc,AAAC,CAAC,QAAO,CAAG,KAAG,CAAC,CAAC;AACpC,oBAAU,QAAQ,AAAC,CAAC,aAAY,CAAG,SAAO,CAAC,CAAC;AAC5C,AAAI,YAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,qBAAoB,AAAC,EAAC,CAAC,CAAG,EAAC,eAAc,AAAC,EAAC,CAAC,CAAC,CAAC;AAC7E,eAAO,CAAA,MAAK,WAAW,AAAC,CAAC,CAAC,QAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAC5E,iBAAK,AAAC,CAAC,qBAAoB,OAAO,CAAC,KAAK,AAAC,CAAC,CAAA,CAAC,CAAC;AAC5C,iBAAO,CAAA,qBAAoB,CAAE,CAAA,CAAC,CAAC;UACjC,EAAC,CAAC,CAAG,CAAA,MAAK,YAAY,AAAC,CAAC,OAAM,CAAG,CAAA,SAAQ,eAAe,CAAC,CAAC,CAAC;QAC7D;AACA,aAAK,eAAe,AAAC,CAAC,eAAc,CAAG,aAAW,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAClE,iBAAO,EAAC,CAAC,IAAG,CAAC,CAAC,CAAC;UACjB,CAAC,CAAC,CAAC;AACL,eAAS,iBAAe,CAAE,SAAQ;AAChC,eAAO,CAAA,MAAK,WAAW,AAAC,CAAC,CAAC,eAAc,AAAC,CAAC,GAAI,KAAG,AAAC,CAAC;AACjD,mBAAO,CAAG,cAAY;AACtB,qBAAS,CAAG,EAAC,SAAQ,CAAC;AAAA,UACxB,CAAC,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AACtB,iBAAK,AAAC,CAAC,SAAQ,WAAW,OAAO,CAAC,KAAK,AAAC,CAAC,CAAA,CAAC,CAAC;AAC3C,iBAAO,CAAA,SAAQ,WAAW,CAAE,CAAA,CAAC,CAAC;UAChC,EAAC,CAAC,CAAG,CAAA,MAAK,YAAY,AAAC,CAAC,OAAM,CAAG,CAAA,SAAQ,kBAAkB,CAAC,CAAC,CAAC;QAChE;AACA,SAAC,AAAC,CAAC,6BAA4B,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAClE,wBAAc,AAAC,CAAC,GAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AACvE,iBAAK,AAAC,CAAC,SAAQ,YAAY,CAAC,QAAQ,AAAC,CAAC,SAAQ,AAAC,CAAC,aAAY,CAAC,CAAC,CAAC;AAC/D,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,6BAA4B,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAClE,wBAAc,AAAC,CAAC,GAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AACvE,iBAAK,AAAC,CAAC,SAAQ,SAAS,CAAC,QAAQ,AAAC,CAAC,aAAY,CAAC,CAAC;AACjD,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,2CAA0C,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAChF,qBAAW,gBAAgB,AAAC,CAAC,aAAY,CAAG,iBAAe,CAAC,CAAC;AAC7D,wBAAc,AAAC,CAAC,GAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AACvE,iBAAK,AAAC,CAAC,SAAQ,OAAO,CAAC,QAAQ,AAAC,CAAC,kCAAiC,CAAC,CAAC;AACpE,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,uCAAsC,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAC5E,qBAAW,gBAAgB,AAAC,CAAC,aAAY,CAAG,iBAAe,CAAC,CAAC;AAC7D,wBAAc,AAAC,CAAC,GAAI,KAAG,AAAC,CAAC,CAAC,WAAU,CAAG,gBAAc,CAAC,CAAC,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAC5E,iBAAK,AAAC,CAAC,SAAQ,OAAO,CAAC,QAAQ,AAAC,CAAC,+CAA8C,CAAC,CAAC;AACjF,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,0BAAyB,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAC/D,yBAAe,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,iBAAK,AAAC,CAAC,SAAQ,GAAG,CAAC,QAAQ,AAAC,CAAC,SAAQ,AAAC,CAAC,aAAY,CAAC,CAAC,CAAC;AACtD,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,gCAA+B,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACrE,yBAAe,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,iBAAK,AAAC,CAAC,SAAQ,SAAS,CAAC,QAAQ,AAAC,CAAC,WAAU,CAAC,CAAC;AAC/C,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,2CAA0C,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAChF,yBAAe,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,iBAAK,AAAC,CAAC,SAAQ,KAAK,CAAC,QAAQ,AAAC,CAAC,SAAQ,kBAAkB,eAAe,CAAC,CAAC;AAC1E,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,mDAAkD,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACxF,yBAAe,AAAC,CAAC,6BAA4B,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClE,iBAAK,AAAC,CAAC,SAAQ,KAAK,CAAC,QAAQ,AAAC,CAAC,SAAQ,kBAAkB,eAAe,CAAC,CAAC;AAC1E,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,oDAAmD,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACzF,yBAAe,AAAC,CAAC,qBAAoB,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAC1D,iBAAK,AAAC,CAAC,SAAQ,KAAK,CAAC,QAAQ,AAAC,CAAC,SAAQ,kBAAkB,cAAc,CAAC,CAAC;AACzE,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,qDAAoD,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAC1F,yBAAe,AAAC,CAAC,sBAAqB,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAC3D,iBAAK,AAAC,CAAC,SAAQ,KAAK,CAAC,QAAQ,AAAC,CAAC,SAAQ,kBAAkB,eAAe,CAAC,CAAC;AAC1E,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,oEAAmE,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACzG,yBAAe,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,iBAAK,AAAC,CAAC,SAAQ,gBAAgB,CAAC,QAAQ,AAAC,CAAC,IAAG,CAAC,CAAC;AAC/C,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,uEAAsE,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAC5G,yBAAe,AAAC,CAAC,sBAAqB,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAC3D,iBAAK,AAAC,CAAC,SAAQ,gBAAgB,CAAC,QAAQ,AAAC,CAAC,IAAG,CAAC,CAAC;AAC/C,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,wEAAuE,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAC7G,yBAAe,AAAC,CAAC,gCAA+B,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AACrE,iBAAK,AAAC,CAAC,SAAQ,gBAAgB,CAAC,QAAQ,AAAC,CAAC,KAAI,CAAC,CAAC;AAChD,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,oCAAmC,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACzE,yBAAe,AAAC,CAAC,mBAAkB,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AACxD,iBAAK,AAAC,CAAC,SAAQ,cAAc,CAAC,QAAQ,AAAC,CAAC,UAAS,oBAAoB,AAAC,CAAC,CAAC,WAAU,CAAG,aAAW,CAAC,CAAC,CAAC,CAAC;AACpG,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,qCAAoC,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAC1E,yBAAe,AAAC,CAAC,uBAAsB,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAC5D,iBAAK,AAAC,CAAC,SAAQ,eAAe,CAAC,QAAQ,AAAC,CAAC,UAAS,oBAAoB,AAAC,CAAC,CAAC,WAAU,CAAG,WAAS,CAAC,CAAC,CAAC,CAAC;AACnG,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,2BAA0B,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAChE,yBAAe,AAAC,CAAC,iBAAgB,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AACtD,iBAAK,AAAC,CAAC,SAAQ,WAAW,CAAC,QAAQ,AAAC,CAAC,UAAS,oBAAoB,AAAC,CAAC,CAAC,GAAE,CAAG,IAAE,CAAC,CAAC,CAAC,CAAC;AAChF,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,wBAAuB,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAC7D,yBAAe,AAAC,CAAC,uBAAsB,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAC5D,iBAAK,AAAC,CAAC,SAAQ,eAAe,CAAC,QAAQ,AAAC,CAAC,CAAC,UAAS,CAAC,CAAC,CAAC;AACtD,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;MACL,EAAC,CAAC;AACF,aAAO,AAAC,CAAC,uBAAsB,GAAG,SAAC,AAAD;AAChC,SAAC,AAAC,CAAC,kCAAiC,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACvE,oBAAU,QAAQ,AAAC,CAAC,aAAY,CAAG,IAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AACvE,AAAI,YAAA,CAAA,eAAc,EAAI,CAAA,qBAAoB,AAAC,EAAC,CAAC;AAC7C,AAAI,YAAA,CAAA,iBAAgB,EAAI,CAAA,eAAc,AAAC,EAAC,CAAC;AACzC,AAAI,YAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,eAAc,CAAC,CAAG,EAAC,iBAAgB,CAAC,CAAC,CAAC;AACrE,iBAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,AAAI,cAAA,CAAA,OAAM,EAAI,CAAA,gBAAe,SAAS,CAAE,CAAA,CAAC,CAAC;AAC1C,iBAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,CAAC,KAAK,AAAC,CAAC,eAAc,CAAC,CAAC;AACxC,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,mCAAkC,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACxE,oBAAU,QAAQ,AAAC,CAAC,aAAY,CAAG,IAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AACvE,AAAI,YAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,qBAAoB,AAAC,EAAC,CAAC,CAAG,EAAC,eAAc,AAAC,EAAC,CAAC,CAAC,CAAC;AAC7E,iBAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,AAAI,cAAA,CAAA,OAAM,EAAI,CAAA,gBAAe,SAAS,CAAE,CAAA,CAAC,CAAC;AAC1C,iBAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,IAAI,MAAM,CAAC,KAAK,AAAC,CAAC,aAAY,CAAC,CAAC;AAChD,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,oCAAmC,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACzE,oBAAU,QAAQ,AAAC,CAAC,aAAY,CAAG,IAAI,KAAG,AAAC,CAAC;AAC1C,mBAAO,CAAG,cAAY;AACtB,qBAAS,CAAG,EAAC,sBAAqB,CAAC;AAAA,UACrC,CAAC,CAAC,CAAC;AACH,AAAI,YAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,qBAAoB,AAAC,EAAC,CAAC,CAAG,EAAC,eAAc,AAAC,EAAC,CAAC,CAAC,CAAC;AAC7E,iBAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,AAAI,cAAA,CAAA,OAAM,EAAI,CAAA,gBAAe,SAAS,CAAE,CAAA,CAAC,CAAC;AAC1C,AAAI,cAAA,CAAA,OAAM,EAAI,CAAA,OAAM,CAAE,CAAA,CAAC,CAAE,CAAA,CAAC,CAAC;AAC3B,iBAAK,AAAC,CAAC,OAAM,IAAI,MAAM,CAAC,KAAK,AAAC,CAAC,sBAAqB,CAAC,CAAC;AACtD,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;AACH,SAAC,AAAC,CAAC,kDAAiD,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACvF,oBAAU,QAAQ,AAAC,CAAC,aAAY,CAAG,IAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AACvE,AAAI,YAAA,CAAA,eAAc,EAAI,CAAA,qBAAoB,AAAC,EAAC,CAAC;AAC7C,AAAI,YAAA,CAAA,iBAAgB,EAAI,CAAA,eAAc,AAAC,EAAC,CAAC;AACzC,AAAI,YAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,eAAc,CAAC,CAAG,EAAC,iBAAgB,CAAC,CAAC,CAAC;AACrE,iBAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,iBAAK,AAAC,CAAC,SAAQ,CAAC,KAAK,AAAC,CAAC,iBAAgB,CAAC,CAAC;AACzC,gBAAI,KAAK,AAAC,EAAC,CAAC;UACd,EAAC,CAAC;QACJ,EAAC,CAAC,CAAC;MACL,EAAC,CAAC;AACF,OAAC,AAAC,CAAC,+BAA8B,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACpE,kBAAU,QAAQ,AAAC,CAAC,aAAY,CAAG,IAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AACvE,kBAAU,QAAQ,AAAC,CAAC,eAAc,CAAG,IAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AACzE,AAAI,UAAA,CAAA,aAAY,EAAI,CAAA,eAAc,AAAC,CAAC,CAAC,4BAA2B,AAAC,CAAC,MAAK,CAAG,gBAAc,CAAC,CAAC,CAAC,CAAC;AAC5F,AAAI,UAAA,CAAA,eAAc,EAAI,CAAA,eAAc,AAAC,EAAC,CAAC;AACvC,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,qBAAoB,AAAC,CAAC,CAAC,kCAAiC,AAAC,CAAC,CAAA,CAAC,CAAC,CAAC,CAAG,CAAA,qBAAoB,AAAC,EAAC,CAAC,CAAG,EAAC,aAAY,CAAG,gBAAc,CAAC,CAAC,CAAC;AAC1J,eAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,eAAK,AAAC,CAAC,SAAQ,CAAC,KAAK,AAAC,CAAC,aAAY,CAAC,CAAC;AACrC,eAAK,AAAC,CAAC,aAAY,eAAe,CAAE,CAAA,CAAC,gBAAgB,CAAC,KAAK,AAAC,CAAC,eAAc,CAAC,CAAC;AAC7E,eAAK,AAAC,CAAC,eAAc,gBAAgB,CAAC,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;AAClD,cAAI,KAAK,AAAC,EAAC,CAAC;QACd,EAAC,CAAC;MACJ,EAAC,CAAC,CAAC;AACH,OAAC,AAAC,CAAC,2CAA0C,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAChF,kBAAU,QAAQ,AAAC,CAAC,aAAY,CAAG,IAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AACvE,kBAAU,QAAQ,AAAC,CAAC,eAAc,CAAG,IAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AACzE,AAAI,UAAA,CAAA,aAAY,EAAI,CAAA,eAAc,AAAC,CAAC,CAAC,2BAA0B,AAAC,CAAC,IAAG,CAAC,CAAC,CAAC,CAAC;AACxE,AAAI,UAAA,CAAA,iBAAgB,EAAI,CAAA,eAAc,AAAC,CAAC,CAAC,4BAA2B,AAAC,CAAC,MAAK,CAAG,gBAAc,CAAC,CAAC,CAAC,CAAC;AAChG,AAAI,UAAA,CAAA,eAAc,EAAI,CAAA,eAAc,AAAC,EAAC,CAAC;AACvC,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,qBAAoB,AAAC,CAAC,CAAC,iCAAgC,AAAC,CAAC,qBAAoB,AAAC,CAAC,CAAC,kCAAiC,AAAC,CAAC,CAAA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAG,CAAA,qBAAoB,AAAC,EAAC,CAAC,CAAG,EAAC,aAAY,CAAG,kBAAgB,CAAG,gBAAc,CAAC,CAAC,CAAC;AACzO,eAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,eAAK,AAAC,CAAC,SAAQ,CAAC,KAAK,AAAC,CAAC,aAAY,CAAC,CAAC;AACrC,eAAK,AAAC,CAAC,aAAY,eAAe,CAAE,CAAA,CAAC,gBAAgB,CAAC,KAAK,AAAC,CAAC,iBAAgB,CAAC,CAAC;AAC/E,eAAK,AAAC,CAAC,iBAAgB,gBAAgB,CAAC,KAAK,AAAC,CAAC,aAAY,CAAC,CAAC;AAC7D,eAAK,AAAC,CAAC,iBAAgB,eAAe,CAAE,CAAA,CAAC,gBAAgB,CAAC,KAAK,AAAC,CAAC,eAAc,CAAC,CAAC;AACjF,eAAK,AAAC,CAAC,eAAc,gBAAgB,CAAC,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;AAClD,cAAI,KAAK,AAAC,EAAC,CAAC;QACd,EAAC,CAAC;MACJ,EAAC,CAAC,CAAC;AACH,OAAC,AAAC,CAAC,kCAAiC,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACvE,kBAAU,QAAQ,AAAC,CAAC,aAAY,CAAG,IAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AACvE,AAAI,UAAA,CAAA,eAAc,EAAI,CAAA,qBAAoB,AAAC,EAAC,CAAC;AAC7C,AAAI,UAAA,CAAA,iBAAgB,EAAI,CAAA,eAAc,AAAC,EAAC,CAAC;AACzC,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,eAAc,CAAC,CAAG,EAAC,iBAAgB,CAAC,CAAC,CAAC;AACrE,eAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,eAAK,AAAC,CAAC,SAAQ,CAAC,KAAK,AAAC,CAAC,iBAAgB,CAAC,CAAC;AACzC,eAAO,CAAA,QAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,CAAC;QACxC,EAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AACrB,eAAK,AAAC,CAAC,SAAQ,CAAC,KAAK,AAAC,CAAC,iBAAgB,CAAC,CAAC;AACzC,cAAI,KAAK,AAAC,EAAC,CAAC;QACd,EAAC,CAAC;MACJ,EAAC,CAAC,CAAC;AACH,OAAC,AAAC,CAAC,yCAAwC,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAC9E,kBAAU,QAAQ,AAAC,CAAC,aAAY,CAAG,IAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AACvE,AAAI,UAAA,CAAA,wBAAuB,EAAI,CAAA,cAAa,UAAU,AAAC,EAAC,CAAC;AACzD,AAAI,UAAA,CAAA,iBAAgB,EAAI,CAAA,eAAc,AAAC,EAAC,CAAC;AACzC,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,wBAAuB,QAAQ,CAAC,CAAG,EAAC,iBAAgB,CAAC,CAAC,CAAC;AACtF,+BAAuB,QAAQ,AAAC,CAAC,qBAAoB,AAAC,EAAC,CAAC,CAAC;AACzD,qBAAa,IAAI,AAAC,CAAC,CAAC,QAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,CAAG,CAAA,QAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,CAAC,CAAC,KAAK,AAAC,EAAC,SAAC,UAAS,CAAM;AAC1G,eAAK,AAAC,CAAC,UAAS,CAAE,CAAA,CAAC,CAAC,KAAK,AAAC,CAAC,iBAAgB,CAAC,CAAC;AAC7C,eAAK,AAAC,CAAC,UAAS,CAAE,CAAA,CAAC,CAAC,KAAK,AAAC,CAAC,iBAAgB,CAAC,CAAC;AAC7C,cAAI,KAAK,AAAC,EAAC,CAAC;QACd,EAAC,CAAC;MACJ,EAAC,CAAC,CAAC;AACH,OAAC,AAAC,CAAC,mCAAkC,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACxE,kBAAU,QAAQ,AAAC,CAAC,aAAY,CAAG,IAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AACvE,AAAI,UAAA,CAAA,aAAY,EAAI,CAAA,eAAc,AAAC,CAAC,CAAC,4BAA2B,AAAC,CAAC,MAAK,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AAC1F,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,qBAAoB,AAAC,CAAC,CAAC,kCAAiC,AAAC,CAAC,CAAA,CAAC,CAAC,CAAC,CAAC,CAAG,EAAC,aAAY,CAAC,CAAC,CAAC;AAChH,eAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,eAAK,AAAC,CAAC,SAAQ,CAAC,KAAK,AAAC,CAAC,aAAY,CAAC,CAAC;AACrC,eAAK,AAAC,CAAC,aAAY,eAAe,CAAE,CAAA,CAAC,gBAAgB,CAAC,KAAK,AAAC,CAAC,aAAY,CAAC,CAAC;AAC3E,cAAI,KAAK,AAAC,EAAC,CAAC;QACd,EAAC,CAAC;MACJ,EAAC,CAAC,CAAC;AACH,OAAC,AAAC,CAAC,gCAA+B,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AACrE,eAAO,IAAI,AAAC,CAAC,qBAAoB,CAAC,YAAY,AAAC,EAAC,SAAC,WAAU,CAAM;AAC/D,eAAO,CAAA,cAAa,QAAQ,AAAC,CAAC,qBAAoB,AAAC,CAAC,CAAC,kCAAiC,AAAC,CAAC,CAAA,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/F,EAAC,CAAC;AACF,kBAAU,QAAQ,AAAC,CAAC,aAAY,CAAG,IAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AACvE,AAAI,UAAA,CAAA,aAAY,EAAI,CAAA,eAAc,AAAC,CAAC,CAAC,4BAA2B,AAAC,CAAC,MAAK,CAAG,cAAY,CAAC,CAAC,CAAC,CAAC;AAC1F,AAAI,UAAA,CAAA,aAAY,EAAI,CAAA,eAAc,AAAC,EAAC,CAAC;AACrC,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,qBAAoB,AAAC,EAAC,CAAC,CAAG,EAAC,aAAY,CAAG,cAAY,CAAC,CAAC,CAAC;AACxF,eAAO,cAAc,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AACxD,eAAK,AAAC,CAAC,SAAQ,CAAC,KAAK,AAAC,CAAC,aAAY,CAAC,CAAC;AACrC,eAAK,AAAC,CAAC,aAAY,eAAe,CAAE,CAAA,CAAC,gBAAgB,CAAC,KAAK,AAAC,CAAC,aAAY,CAAC,CAAC;AAC3E,cAAI,KAAK,AAAC,EAAC,CAAC;QACd,EAAC,CAAC;MACJ,EAAC,CAAC,CAAC;AACH,OAAC,AAAC,CAAC,sCAAqC,CAAG,CAAA,MAAK,AAAC,CAAC,CAAC,kBAAiB,CAAC,GAAG,SAAC,KAAI;AAC3E,eAAO,IAAI,AAAC,CAAC,oCAAmC,CAAC,YAAY,AAAC,EAAC,SAAC,UAAS,CAAM;AAC7E,eAAO,CAAA,cAAa,QAAQ,AAAC,CAAC,qBAAoB,AAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QAC1D,EAAC,CAAC;AACF,kBAAU,QAAQ,AAAC,CAAC,aAAY,CAAG,IAAI,KAAG,AAAC,CAAC,CAAC,QAAO,CAAG,gBAAc,CAAC,CAAC,CAAC,CAAC;AACzE,AAAI,UAAA,CAAA,aAAY,EAAI,CAAA,eAAc,AAAC,EAAC,CAAC;AACrC,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,CAAC,EAAC,CAAG,EAAC,aAAY,CAAC,CAAC,CAAC;AAClD,eAAO,QAAQ,AAAC,CAAC,aAAY,CAAC,KAAK,AAAC,EAAC,SAAC,SAAQ,CAAM;AAClD,eAAK,AAAC,CAAC,SAAQ,CAAC,KAAK,AAAC,CAAC,aAAY,CAAC,CAAC;AACrC,eAAK,AAAC,CAAC,QAAO,IAAI,AAAC,CAAC,oCAAmC,CAAC,CAAC,qBAAqB,AAAC,CAAC,eAAc,CAAC,CAAC;AAChG,cAAI,KAAK,AAAC,EAAC,CAAC;QACd,EAAC,CAAC;MACJ,EAAC,CAAC,CAAC;IACL,CAAC,CAAC;EACJ;AACA,SAAS,uBAAqB,CAAE,MAAK,CAAG,CAAA,IAAG,CAAG;AAC5C,AAAI,MAAA,CAAA,IAAG,EAAI,CAAA,MAAK,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;AAC5B,SAAO,CAAA,gBAAe,eAAe,AAAC,CAAC,IAAG,KAAK,CAAG,CAAA,IAAG,WAAW,CAAC,CAAC;EACpE;AAAA,AACA,SAAS,gBAAc,CAAE,AAAoB,CAAG;MAAvB,eAAa,6CAAI,KAAG;AAC3C,AAAI,MAAA,CAAA,EAAC,EAAI,IAAI,aAAW,AAAC,CAAC,IAAG,CAAG,KAAG,CAAC,CAAC;AACrC,OAAI,OAAM,AAAC,CAAC,cAAa,CAAC,CAAG;AAC3B,mBAAa,EAAI,GAAC,CAAC;IACrB;AAAA,AACA,KAAC,eAAe,EAAI,eAAa,CAAC;AAClC,SAAO,GAAC,CAAC;EACX;AAAA,AACA,SAAS,6BAA2B,CAAE,MAAK,CAAG,CAAA,IAAG,CAAG;AAClD,AAAI,MAAA,CAAA,OAAM,EAAI,CAAA,sBAAqB,AAAC,CAAC,MAAK,CAAG,KAAG,CAAC,CAAC;AAClD,SAAO,IAAI,cAAY,AAAC,CAAC,CAAA,CAAG,KAAG,CAAG,EAAA,CAAG,KAAG,CAAG,QAAM,CAAG,KAAG,CAAC,CAAC;EAC3D;AAAA,AACA,SAAS,4BAA0B,CAAE,eAAc,CAAG;AACpD,AAAI,MAAA,CAAA,QAAO,EAAI,IAAI,cAAY,AAAC,CAAC,CAAA,CAAG,KAAG,CAAG,EAAA,CAAG,KAAG,CAAG,KAAG,CAAG,KAAG,CAAC,CAAC;AAC9D,WAAO,gBAAgB,EAAI,gBAAc,CAAC;AAC1C,SAAO,SAAO,CAAC;EACjB;AAAA,AACA,SAAS,sBAAoB,CAAE,AAAoB,CAAG;MAAvB,eAAa,6CAAI,KAAG;AACjD,OAAI,OAAM,AAAC,CAAC,cAAa,CAAC,CAAG;AAC3B,mBAAa,EAAI,GAAC,CAAC;IACrB;AAAA,AACA,SAAO,IAAI,CAAA,SAAQ,aAAa,AAAC,CAAC,CAAC,cAAa,CAAG,eAAa,CAAC,CAAC,CAAC;EACrE;AAAA,AACA,SAAS,mCAAiC,CAAE,cAAa,CAAG;AAC1D,SAAO,IAAI,CAAA,SAAQ,cAAc,AAAC,CAAC,CAAC,UAAS,CAAG,EAAC,GAAI,CAAA,SAAQ,gBAAgB,AAAC,CAAC,CAAC,cAAa,CAAG,eAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACrH;AAAA,AACA,SAAS,kCAAgC,CAAE,eAAc,CAAG;AAC1D,SAAO,IAAI,CAAA,SAAQ,cAAc,AAAC,CAAC,CAAC,eAAc,CAAG,gBAAc,CAAC,CAAC,CAAC;EACxE;AAAA,AAjXQ,UAAQ,AAAC,cAAqC,CAAA;AADtD,OAAO;AACD,UAAM,GADZ,SAAS,IAAG,CAAG;AAAf,aAAoB,KAAG,OAAkB,CAAC;IAElC,CAFR,UAAS,IAAG;AAAZ,yBAAoB,KAAG,mBAAkB,CAAC;AAA1C,iBAAoB,KAAG,WAAkB,CAAC;AAA1C,gBAAoB,KAAG,UAAkB,CAAC;AAA1C,gBAAoB,KAAG,UAAkB,CAAC;AAA1C,eAAoB,KAAG,SAAkB,CAAC;AAA1C,SAAoB,KAAG,GAAkB,CAAC;AAA1C,aAAoB,KAAG,OAAkB,CAAC;AAA1C,UAAoB,KAAG,IAAkB,CAAC;AAA1C,aAAoB,KAAG,OAAkB,CAAC;AAA1C,iBAAoB,KAAG,WAAkB,CAAC;AAA1C,SAAoB,KAAG,GAAkB,CAAC;AAA1C,gBAAoB,KAAG,UAAkB,CAAC;AAA1C,YAAoB,KAAG,MAAkB,CAAC;IAElC,CAFR,UAAS,IAAG;AAAZ,WAAoB,KAAG,KAAkB,CAAC;AAA1C,kBAAoB,KAAG,YAAkB,CAAC;AAA1C,UAAoB,KAAG,IAAkB,CAAC;AAA1C,iBAAoB,KAAG,WAAkB,CAAC;AAA1C,uBAAoB,KAAG,iBAAkB,CAAC;IAElC,CAFR,UAAS,IAAG;AAAZ,iBAAoB,KAAG,WAAkB,CAAC;AAA1C,WAAoB,KAAG,KAAkB,CAAC;AAA1C,cAAoB,KAAG,QAAkB,CAAC;AAA1C,gBAAoB,KAAG,UAAkB,CAAC;AAA1C,gBAAoB,KAAG,UAAkB,CAAC;IAElC,CAFR,UAAS,IAAG;AAAZ,qBAAoB,KAAG,eAAkB,CAAC;AAA1C,cAAoB,KAAG,QAAkB,CAAC;IAElC,CAFR,UAAS,IAAG;AAAZ,eAAoB,KAAG,SAAkB,CAAC;AAA1C,oBAAoB,KAAG,cAAkB,CAAC;IAElC,CAFR,UAAS,IAAG,CAAG;AAAf,mBAAoB,KAAG,aAAkB,CAAC;IAElC,CAFR,UAAS,IAAG,CAAG;AAAf,oBAAoB,KAAG,cAAkB,CAAC;IAElC,CAFR,UAAS,IAAG,CAAG;AAAf,8BAAoB,KAAG,wBAAkB,CAAC;IAElC,CAFR,UAAS,IAAG;AAAZ,gBAAoB,KAAG,UAAkB,CAAC;AAA1C,uBAAoB,KAAG,iBAAkB,CAAC;AAA1C,eAAoB,KAAG,SAAkB,CAAC;AAA1C,gBAAoB,KAAG,UAAkB,CAAC;IAElC,CAFR,UAAS,IAAG,CAAG;AAAf,gBAAoB,KAAG,UAAkB,CAAC;IAElC,CAFR,UAAS,IAAG,CAAG;AAAf,WAAoB,KAAG,KAAkB,CAAC;IAElC,CAFR,UAAS,IAAG,CAAG;AAAf,uBAAoB,KAAG,iBAAkB,CAAC;IAElC,CAFR,UAAS,IAAG,CAAG;AAAf,uBAAoB,KAAG,iBAAkB,CAAC;IAElC,CAFR,UAAS,IAAG;AAAZ,yBAAoB,KAAG,mBAAkB,CAAC;AAA1C,gCAAoB,KAAG,0BAAkB,CAAC;IAElC,CAFR,UAAS,IAAG,CAAG;AAAf,uBAAoB,KAAG,iBAAkB,CAAC;IAElC,CAFR,UAAS,IAAG,CAAG;AAAf,kBAAoB,KAAG,YAAkB,CAAC;IAElC,CAFR,UAAS,IAAG;AAAZ,eAAoB,KAAG,SAAkB,CAAC;AAA1C,gBAAoB,KAAG,CAAC;IAEhB,CADuB;AACzB,UAAM;AAFZ,sBAAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,gBAkXd,SAAM,cAAY;;QAAG,AAlX6B,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,uBACkB,CAAC;MACzD,AAAC,EAAC,CAJ0B,CAAA;AAoXpC,WAAK,eAAe,AAAC,CAAC,aAAY,CAAG,cAAY,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AACjE,eAAO,EAAC,GAAI,UAAQ,AAAC,CAAC,CAAC,QAAO,CAAG,YAAU,CAAC,CAAC,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;AAtXL,wBAAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,kBAsXd,SAAM,gBAAc;;QAAG,AAtX2B,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,yBACkB,CAAC;MACzD,AAAC,EAAC,CAJ0B,CAAA;AAwXpC,WAAK,eAAe,AAAC,CAAC,eAAc,CAAG,cAAY,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AACnE,eAAO,EAAC,GAAI,UAAQ,AAAC,EAAC,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;AA1XL,2BAAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,qBA0Xd,SAAM,mBAAiB;;QAAG,AA1XwB,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,4BACkB,CAAC;MACzD,AAAC,EAAC,CAJ0B,CAAA;AAApC,sCAAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,gCA2Xd,SAAM,8BAA4B;;QAAG,AA3Xa,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,uCACkB,CAAC;MACzD,AAAC,EAAC,CAJ0B,CAAA;AA6XpC,WAAK,eAAe,AAAC,CAAC,6BAA4B,CAAG,cAAY,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AACjF,eAAO,EAAC,GAAI,iBAAe,AAAC,EAAC,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;AA/XL,8BAAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,wBA+Xd,SAAM,sBAAoB;;QAAG,AA/XqB,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,+BACkB,CAAC;MACzD,AAAC,EAAC,CAJ0B,CAAA;AAiYpC,WAAK,eAAe,AAAC,CAAC,qBAAoB,CAAG,cAAY,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AACzE,eAAO,EAAC,GAAI,SAAO,AAAC,EAAC,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;AAnYL,+BAAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,yBAmYd,SAAM,uBAAqB;;QAAG,AAnYoB,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,gCACkB,CAAC;MACzD,AAAC,EAAC,CAJ0B,CAAA;AAqYpC,WAAK,eAAe,AAAC,CAAC,sBAAqB,CAAG,cAAY,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAC1E,eAAO,EAAC,GAAI,UAAQ,AAAC,EAAC,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;AAvYL,yCAAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,mCAuYd,SAAM,iCAA+B;;QAAG,AAvYU,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,0CACkB,CAAC;MACzD,AAAC,EAAC,CAJ0B,CAAA;AAyYpC,WAAK,eAAe,AAAC,CAAC,gCAA+B,CAAG,cAAY,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AACpF,eAAO,EAAC,GAAI,UAAQ,AAAC,CAAC,CAAC,eAAc,CAAG,MAAI,CAAC,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;AA3YL,4BAAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,sBA2Yd,SAAM,oBAAkB;;QAAG,AA3YuB,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,6BACkB,CAAC;MACzD,AAAC,EAAC,CAJ0B,CAAA;AA6YpC,WAAK,eAAe,AAAC,CAAC,mBAAkB,CAAG,cAAY,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AACvE,eAAO,EAAC,GAAI,UAAQ,AAAC,CAAC,CAAC,aAAY,CAAG,EAAC,WAAU,CAAG,aAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QACtE,CAAC,CAAC,CAAC;AA/YL,gCAAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,0BA+Yd,SAAM,wBAAsB;;QAAG,AA/YmB,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,iCACkB,CAAC;MACzD,AAAC,EAAC,CAJ0B,CAAA;AAiZpC,WAAK,eAAe,AAAC,CAAC,uBAAsB,CAAG,cAAY,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAC3E,eAAO,EAAC,GAAI,UAAQ,AAAC,CAAC,CAAC,cAAa,CAAG,EAAC,WAAU,CAAG,WAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QACrE,CAAC,CAAC,CAAC;AAnZL,0BAAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,oBAmZd,SAAM,kBAAgB;;QAAG,AAnZyB,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,2BACkB,CAAC;MACzD,AAAC,EAAC,CAJ0B,CAAA;AAqZpC,WAAK,eAAe,AAAC,CAAC,iBAAgB,CAAG,cAAY,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AACrE,eAAO,EAAC,GAAI,UAAQ,AAAC,CAAC,CAAC,UAAS,CAAG,EAAC,GAAE,CAAG,IAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;AAvZL,gCAAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,0BAuZd,SAAM,wBAAsB,CACd,QAAO,CAAG;AACpB,eAAK,cAAc,AAAC,CAAC,QAAO,CAAG,CAAA,MAAK,KAAK,OAAO,CAAC,CAAC;QACpD,AA1ZgD,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,iCACkB,CAAC;MACzD,AAAC,EAAC,CAJ0B,CAAA;AA6ZpC,WAAK,eAAe,AAAC,CAAC,uBAAsB,CAAG,cAAY,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAC3E,eAAO,EAAC,GAAI,UAAQ,AAAC,EAAC,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;AACL,WAAK,eAAe,AAAC,CAAC,uBAAsB,CAAG,aAAW,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAC1E,eAAO,EAAC,CAAC,MAAK,KAAK,OAAO,CAAG,IAAI,UAAQ,AAAC,CAAC,UAAS,CAAC,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;AAlaL,oBAAA,SAAS,QAAO;AACN,AAAI,UAAA,cAkad,SAAM,YAAU,CACF,AAAD,CAAG;AACZ,AAraJ,wBAAc,iBAAiB,AAAC,aAAkB,KAAK,MAqa7C,SAAO,CArayD,CAqavD;QACjB,AAragD,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,eAqa5C,YAAW,CAAX,UAAa,CAAA,CAAG;AACd,iBAxaJ,CAAA,eAAc,SAAS,AAAC,6CAAwD,KAA3D,MAwaS,EAAA,CAxaU,CAwaR;UAC9B,MAtagE,SAAO,CAAC,CAAC;MACnE,AAAC,CA+ZiB,SAAQ,CA/ZP,CAJS,CAAA;AA2apC,WAAK,eAAe,AAAC,CAAC,WAAU,CAAG,cAAY,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAC/D,eAAO,EAAC,GAAI,MAAI,CAAG,IAAI,WAAS,AAAC,CAAC,QAAO,CAAC,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;AA7aL,wBAAA,SAAS,QAAO;AACN,AAAI,UAAA,kBA6ad,SAAM,gBAAc,CACN,AAAD,CAAG;AACZ,AAhbJ,wBAAc,iBAAiB,AAAC,iBAAkB,KAAK,MAAmB,CAgb/D;QACT,AAhbgD,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,mBAgb5C,OAAM,CAAN,UAAQ,OAAM,CAAG,CAAA,GAAE,CAAG;AACpB,iBAAK,cAAc,AAAC,CAAC,OAAM,CAAG,CAAA,MAAK,KAAK,OAAO,CAAG,IAAE,CAAG,CAAA,MAAK,KAAK,OAAO,CAAC,CAAC;AAC1E,eAAI,OAAM,IAAM,KAAG,CAAA,EAAK,CAAA,GAAE,GAAK,KAAG,CAAG;AACnC,mBAAO,CAAA,MAAK,WAAW,AAAC,CAAC,CAAC,oBAAmB,CAAC,CAAG,CAAA,MAAK,KAAK,OAAO,CAAC,CAAC;YACtE;AAAA,AACA,iBAAO,CAAA,MAAK,WAAW,AAAC,CAAC,CAAC,OAAM,EAAI,IAAE,CAAC,CAAG,CAAA,MAAK,KAAK,OAAO,CAAC,CAAC;UAC/D,MArbgE,SAAO,CAAC,CAAC;MACnE,AAAC,CA0aqB,WAAU,CA1ab,CAJS,CAAA;AA0bpC,WAAK,eAAe,AAAC,CAAC,eAAc,UAAU,QAAQ,CAAG,aAAW,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AACpF,eAAO,EAAC,CAAC,MAAK,KAAK,OAAO,CAAC,CAAG,EAAC,MAAK,KAAK,OAAO,CAAC,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;AA5bL,6BAAA,SAAS,QAAO;AACN,AAAI,UAAA,uBA4bd,SAAM,qBAAmB,CACX,AAAD,CAAG;AACZ,AA/bJ,wBAAc,iBAAiB,AAAC,sBAAkB,KAAK,MAAmB,CA+b/D;AACP,aAAG,cAAc,EAAI,CAAA,UAAS,OAAO,AAAC,EAAC,CAAC;QAC1C,AAhcgD,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC;AAgc5C,gBAAM,CAAN,UAAQ,SAAQ,CAAG;AACjB,iBAAK,cAAc,AAAC,CAAC,SAAQ,CAAG,KAAG,CAAC,CAAC;AACrC,AAAI,cAAA,CAAA,QAAO,EAAI,CAAA,UAAS,IAAI,AAAC,CAAC,IAAG,cAAc,CAAG,UAAQ,CAAC,CAAC;AAC5D,eAAI,OAAM,AAAC,CAAC,QAAO,CAAC,CAAG;AACrB,kBAAM,cAAY,CAAC;YACrB;AAAA,AACA,iBAAO,CAAA,MAAK,WAAW,AAAC,CAAC,CAAC,QAAO,CAAC,CAAG,KAAG,CAAC,CAAC;UAC5C;AACA,gBAAM,CAAN,UAAQ,SAAQ,CAAG,CAAA,QAAO,CAAG;AAC3B,iBAAK,cAAc,AAAC,CAAC,SAAQ,CAAG,KAAG,CAAG,SAAO,CAAG,KAAG,CAAC,CAAC;AACrD,qBAAS,IAAI,AAAC,CAAC,IAAG,cAAc,CAAG,UAAQ,CAAG,SAAO,CAAC,CAAC;UACzD;AAAA,aA1cgE,SAAO,CAAC,CAAC;MACnE,AAAC,CAyb0B,gBAAe,CAzbvB,CAJS,CAAA;AA+cpC,WAAK,eAAe,AAAC,CAAC,oBAAmB,UAAU,QAAQ,CAAG,aAAW,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AACzF,eAAO,EAAC,CAAC,IAAG,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC;AACL,WAAK,eAAe,AAAC,CAAC,oBAAmB,UAAU,QAAQ,CAAG,aAAW,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AACzF,eAAO,EAAC,CAAC,IAAG,CAAC,CAAG,EAAC,IAAG,CAAC,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;AApdL,6BAAA,SAAS,QAAO;AACN,AAAI,UAAA,uBAodd,SAAM,qBAAmB,CACX,OAAM,CAAG;AACnB,AAvdJ,wBAAc,iBAAiB,AAAC,sBAAkB,KAAK,MAud7C,KAAG,CAvd6D,CAud3D;AACX,aAAG,SAAS,EAAI,GAAC,CAAC;AAClB,aAAG,SAAS,EAAI,QAAM,CAAC;QACzB,AAzdgD,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,wBAyd5C,eAAc,CAAd,UAAgB,gBAAe,CAAG,CAAA,eAAc,CAAG,CAAA,UAAS,CAAG;AAC7D,iBAAK,cAAc,AAAC,CAAC,gBAAe,CAAG,iBAAe,CAAG,gBAAc,CAAG,CAAA,SAAQ,aAAa,CAAG,WAAS,CAAG,CAAA,MAAK,YAAY,AAAC,CAAC,IAAG,CAAG,iBAAe,CAAC,CAAC,CAAC;AACzJ,sBAAU,KAAK,AAAC,CAAC,IAAG,SAAS,CAAG,EAAC,gBAAe,CAAG,gBAAc,CAAG,WAAS,CAAC,CAAC,CAAC;AAChF,iBAAO,CAAA,MAAK,WAAW,AAAC,CAAC,CAAC,WAAU,SAAS,AAAC,CAAC,IAAG,SAAS,CAAG,EAAA,CAAC,CAAC,CAAG,aAAW,CAAC,CAAC;UAClF,MA5dgE,SAAO,CAAC,CAAC;MACnE,AAAC,CAid0B,gBAAe,CAjdvB,CAJS,CAAA;AAiepC,WAAK,eAAe,AAAC,CAAC,oBAAmB,UAAU,gBAAgB,CAAG,aAAW,CAAG,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AACjG,eAAO,EAAC,CAAC,gBAAe,CAAC,CAAG,EAAC,SAAQ,aAAa,CAAC,CAAG,EAAC,MAAK,YAAY,AAAC,CAAC,IAAG,CAAG,iBAAe,CAAC,CAAC,CAAC,CAAC;QACrG,CAAC,CAAC,CAAC;IAje0B;EAC3B,CAAA;AADI,CAAC,CAAC;AAoe6B","file":"angular2/test/core/compiler/compiler_spec.js","sourcesContent":["import {assert} from \"rtts_assert/rtts_assert\";\nimport {AsyncTestCompleter,\n  beforeEach,\n  xdescribe,\n  ddescribe,\n  describe,\n  el,\n  expect,\n  iit,\n  inject,\n  IS_DARTIUM,\n  it,\n  SpyObject,\n  proxy} from 'angular2/test_lib';\nimport {List,\n  ListWrapper,\n  Map,\n  MapWrapper,\n  StringMapWrapper} from 'angular2/src/facade/collection';\nimport {IMPLEMENTS,\n  Type,\n  isBlank,\n  stringify,\n  isPresent} from 'angular2/src/facade/lang';\nimport {PromiseWrapper,\n  Promise} from 'angular2/src/facade/async';\nimport {Compiler,\n  CompilerCache} from 'angular2/src/core/compiler/compiler';\nimport {AppProtoView} from 'angular2/src/core/compiler/view';\nimport {ElementBinder} from 'angular2/src/core/compiler/element_binder';\nimport {DirectiveMetadataReader} from 'angular2/src/core/compiler/directive_metadata_reader';\nimport {Component,\n  DynamicComponent,\n  Viewport,\n  Decorator} from 'angular2/src/core/annotations/annotations';\nimport {Attribute} from 'angular2/src/core/annotations/di';\nimport {View} from 'angular2/src/core/annotations/view';\nimport {DirectiveBinding} from 'angular2/src/core/compiler/element_injector';\nimport {TemplateResolver} from 'angular2/src/core/compiler/template_resolver';\nimport {ComponentUrlMapper,\n  RuntimeComponentUrlMapper} from 'angular2/src/core/compiler/component_url_mapper';\nimport {ProtoViewFactory} from 'angular2/src/core/compiler/proto_view_factory';\nimport {UrlResolver} from 'angular2/src/services/url_resolver';\nimport * as renderApi from 'angular2/src/render/api';\nimport {Renderer} from 'angular2/src/render/api';\nexport function main() {\n  describe('compiler', function() {\n    var reader,\n        tplResolver,\n        renderer,\n        protoViewFactory,\n        cmpUrlMapper,\n        renderCompileRequests;\n    beforeEach(() => {\n      reader = new DirectiveMetadataReader();\n      tplResolver = new FakeTemplateResolver();\n      cmpUrlMapper = new RuntimeComponentUrlMapper();\n      renderer = new SpyRenderer();\n    });\n    function createCompiler(renderCompileResults, protoViewFactoryResults) {\n      assert.argumentTypes(renderCompileResults, List, protoViewFactoryResults, assert.genericType(List, AppProtoView));\n      var urlResolver = new FakeUrlResolver();\n      renderCompileRequests = [];\n      renderer.spy('compile').andCallFake((template) => {\n        ListWrapper.push(renderCompileRequests, template);\n        return PromiseWrapper.resolve(ListWrapper.removeAt(renderCompileResults, 0));\n      });\n      protoViewFactory = new FakeProtoViewFactory(protoViewFactoryResults);\n      return new Compiler(reader, new CompilerCache(), tplResolver, cmpUrlMapper, urlResolver, renderer, protoViewFactory);\n    }\n    Object.defineProperty(createCompiler, \"parameters\", {get: function() {\n        return [[List], [assert.genericType(List, AppProtoView)]];\n      }});\n    describe('serialize template', () => {\n      function captureTemplate(template) {\n        assert.argumentTypes(template, View);\n        tplResolver.setView(MainComponent, template);\n        var compiler = createCompiler([createRenderProtoView()], [createProtoView()]);\n        return assert.returnType((compiler.compile(MainComponent).then((protoView) => {\n          expect(renderCompileRequests.length).toBe(1);\n          return renderCompileRequests[0];\n        })), assert.genericType(Promise, renderApi.ViewDefinition));\n      }\n      Object.defineProperty(captureTemplate, \"parameters\", {get: function() {\n          return [[View]];\n        }});\n      function captureDirective(directive) {\n        return assert.returnType((captureTemplate(new View({\n          template: '<div></div>',\n          directives: [directive]\n        })).then((renderTpl) => {\n          expect(renderTpl.directives.length).toBe(1);\n          return renderTpl.directives[0];\n        })), assert.genericType(Promise, renderApi.DirectiveMetadata));\n      }\n      it('should fill the componentId', inject([AsyncTestCompleter], (async) => {\n        captureTemplate(new View({template: '<div></div>'})).then((renderTpl) => {\n          expect(renderTpl.componentId).toEqual(stringify(MainComponent));\n          async.done();\n        });\n      }));\n      it('should fill inline template', inject([AsyncTestCompleter], (async) => {\n        captureTemplate(new View({template: '<div></div>'})).then((renderTpl) => {\n          expect(renderTpl.template).toEqual('<div></div>');\n          async.done();\n        });\n      }));\n      it('should fill absUrl given inline templates', inject([AsyncTestCompleter], (async) => {\n        cmpUrlMapper.setComponentUrl(MainComponent, '/mainComponent');\n        captureTemplate(new View({template: '<div></div>'})).then((renderTpl) => {\n          expect(renderTpl.absUrl).toEqual('http://www.app.com/mainComponent');\n          async.done();\n        });\n      }));\n      it('should fill absUrl given url template', inject([AsyncTestCompleter], (async) => {\n        cmpUrlMapper.setComponentUrl(MainComponent, '/mainComponent');\n        captureTemplate(new View({templateUrl: '/someTemplate'})).then((renderTpl) => {\n          expect(renderTpl.absUrl).toEqual('http://www.app.com/mainComponent/someTemplate');\n          async.done();\n        });\n      }));\n      it('should fill directive.id', inject([AsyncTestCompleter], (async) => {\n        captureDirective(MainComponent).then((renderDir) => {\n          expect(renderDir.id).toEqual(stringify(MainComponent));\n          async.done();\n        });\n      }));\n      it('should fill directive.selector', inject([AsyncTestCompleter], (async) => {\n        captureDirective(MainComponent).then((renderDir) => {\n          expect(renderDir.selector).toEqual('main-comp');\n          async.done();\n        });\n      }));\n      it('should fill directive.type for components', inject([AsyncTestCompleter], (async) => {\n        captureDirective(MainComponent).then((renderDir) => {\n          expect(renderDir.type).toEqual(renderApi.DirectiveMetadata.COMPONENT_TYPE);\n          async.done();\n        });\n      }));\n      it('should fill directive.type for dynamic components', inject([AsyncTestCompleter], (async) => {\n        captureDirective(SomeDynamicComponentDirective).then((renderDir) => {\n          expect(renderDir.type).toEqual(renderApi.DirectiveMetadata.COMPONENT_TYPE);\n          async.done();\n        });\n      }));\n      it('should fill directive.type for viewport directives', inject([AsyncTestCompleter], (async) => {\n        captureDirective(SomeViewportDirective).then((renderDir) => {\n          expect(renderDir.type).toEqual(renderApi.DirectiveMetadata.VIEWPORT_TYPE);\n          async.done();\n        });\n      }));\n      it('should fill directive.type for decorator directives', inject([AsyncTestCompleter], (async) => {\n        captureDirective(SomeDecoratorDirective).then((renderDir) => {\n          expect(renderDir.type).toEqual(renderApi.DirectiveMetadata.DECORATOR_TYPE);\n          async.done();\n        });\n      }));\n      it('should set directive.compileChildren to false for other directives', inject([AsyncTestCompleter], (async) => {\n        captureDirective(MainComponent).then((renderDir) => {\n          expect(renderDir.compileChildren).toEqual(true);\n          async.done();\n        });\n      }));\n      it('should set directive.compileChildren to true for decorator directives', inject([AsyncTestCompleter], (async) => {\n        captureDirective(SomeDecoratorDirective).then((renderDir) => {\n          expect(renderDir.compileChildren).toEqual(true);\n          async.done();\n        });\n      }));\n      it('should set directive.compileChildren to false for decorator directives', inject([AsyncTestCompleter], (async) => {\n        captureDirective(IgnoreChildrenDecoratorDirective).then((renderDir) => {\n          expect(renderDir.compileChildren).toEqual(false);\n          async.done();\n        });\n      }));\n      it('should set directive.hostListeners', inject([AsyncTestCompleter], (async) => {\n        captureDirective(DirectiveWithEvents).then((renderDir) => {\n          expect(renderDir.hostListeners).toEqual(MapWrapper.createFromStringMap({'someEvent': 'someAction'}));\n          async.done();\n        });\n      }));\n      it('should set directive.hostProperties', inject([AsyncTestCompleter], (async) => {\n        captureDirective(DirectiveWithProperties).then((renderDir) => {\n          expect(renderDir.hostProperties).toEqual(MapWrapper.createFromStringMap({'someField': 'someProp'}));\n          async.done();\n        });\n      }));\n      it('should set directive.bind', inject([AsyncTestCompleter], (async) => {\n        captureDirective(DirectiveWithBind).then((renderDir) => {\n          expect(renderDir.properties).toEqual(MapWrapper.createFromStringMap({'a': 'b'}));\n          async.done();\n        });\n      }));\n      it('should read @Attribute', inject([AsyncTestCompleter], (async) => {\n        captureDirective(DirectiveWithAttributes).then((renderDir) => {\n          expect(renderDir.readAttributes).toEqual(['someAttr']);\n          async.done();\n        });\n      }));\n    });\n    describe('call ProtoViewFactory', () => {\n      it('should pass the render protoView', inject([AsyncTestCompleter], (async) => {\n        tplResolver.setView(MainComponent, new View({template: '<div></div>'}));\n        var renderProtoView = createRenderProtoView();\n        var expectedProtoView = createProtoView();\n        var compiler = createCompiler([renderProtoView], [expectedProtoView]);\n        compiler.compile(MainComponent).then((protoView) => {\n          var request = protoViewFactory.requests[0];\n          expect(request[1]).toBe(renderProtoView);\n          async.done();\n        });\n      }));\n      it('should pass the component binding', inject([AsyncTestCompleter], (async) => {\n        tplResolver.setView(MainComponent, new View({template: '<div></div>'}));\n        var compiler = createCompiler([createRenderProtoView()], [createProtoView()]);\n        compiler.compile(MainComponent).then((protoView) => {\n          var request = protoViewFactory.requests[0];\n          expect(request[0].key.token).toBe(MainComponent);\n          async.done();\n        });\n      }));\n      it('should pass the directive bindings', inject([AsyncTestCompleter], (async) => {\n        tplResolver.setView(MainComponent, new View({\n          template: '<div></div>',\n          directives: [SomeDecoratorDirective]\n        }));\n        var compiler = createCompiler([createRenderProtoView()], [createProtoView()]);\n        compiler.compile(MainComponent).then((protoView) => {\n          var request = protoViewFactory.requests[0];\n          var binding = request[2][0];\n          expect(binding.key.token).toBe(SomeDecoratorDirective);\n          async.done();\n        });\n      }));\n      it('should use the protoView of the ProtoViewFactory', inject([AsyncTestCompleter], (async) => {\n        tplResolver.setView(MainComponent, new View({template: '<div></div>'}));\n        var renderProtoView = createRenderProtoView();\n        var expectedProtoView = createProtoView();\n        var compiler = createCompiler([renderProtoView], [expectedProtoView]);\n        compiler.compile(MainComponent).then((protoView) => {\n          expect(protoView).toBe(expectedProtoView);\n          async.done();\n        });\n      }));\n    });\n    it('should load nested components', inject([AsyncTestCompleter], (async) => {\n      tplResolver.setView(MainComponent, new View({template: '<div></div>'}));\n      tplResolver.setView(NestedComponent, new View({template: '<div></div>'}));\n      var mainProtoView = createProtoView([createComponentElementBinder(reader, NestedComponent)]);\n      var nestedProtoView = createProtoView();\n      var compiler = createCompiler([createRenderProtoView([createRenderComponentElementBinder(0)]), createRenderProtoView()], [mainProtoView, nestedProtoView]);\n      compiler.compile(MainComponent).then((protoView) => {\n        expect(protoView).toBe(mainProtoView);\n        expect(mainProtoView.elementBinders[0].nestedProtoView).toBe(nestedProtoView);\n        expect(nestedProtoView.parentProtoView).toBe(null);\n        async.done();\n      });\n    }));\n    it('should load nested components in viewport', inject([AsyncTestCompleter], (async) => {\n      tplResolver.setView(MainComponent, new View({template: '<div></div>'}));\n      tplResolver.setView(NestedComponent, new View({template: '<div></div>'}));\n      var mainProtoView = createProtoView([createViewportElementBinder(null)]);\n      var viewportProtoView = createProtoView([createComponentElementBinder(reader, NestedComponent)]);\n      var nestedProtoView = createProtoView();\n      var compiler = createCompiler([createRenderProtoView([createRenderViewportElementBinder(createRenderProtoView([createRenderComponentElementBinder(0)]))]), createRenderProtoView()], [mainProtoView, viewportProtoView, nestedProtoView]);\n      compiler.compile(MainComponent).then((protoView) => {\n        expect(protoView).toBe(mainProtoView);\n        expect(mainProtoView.elementBinders[0].nestedProtoView).toBe(viewportProtoView);\n        expect(viewportProtoView.parentProtoView).toBe(mainProtoView);\n        expect(viewportProtoView.elementBinders[0].nestedProtoView).toBe(nestedProtoView);\n        expect(nestedProtoView.parentProtoView).toBe(null);\n        async.done();\n      });\n    }));\n    it('should cache compiled components', inject([AsyncTestCompleter], (async) => {\n      tplResolver.setView(MainComponent, new View({template: '<div></div>'}));\n      var renderProtoView = createRenderProtoView();\n      var expectedProtoView = createProtoView();\n      var compiler = createCompiler([renderProtoView], [expectedProtoView]);\n      compiler.compile(MainComponent).then((protoView) => {\n        expect(protoView).toBe(expectedProtoView);\n        return compiler.compile(MainComponent);\n      }).then((protoView) => {\n        expect(protoView).toBe(expectedProtoView);\n        async.done();\n      });\n    }));\n    it('should re-use components being compiled', inject([AsyncTestCompleter], (async) => {\n      tplResolver.setView(MainComponent, new View({template: '<div></div>'}));\n      var renderProtoViewCompleter = PromiseWrapper.completer();\n      var expectedProtoView = createProtoView();\n      var compiler = createCompiler([renderProtoViewCompleter.promise], [expectedProtoView]);\n      renderProtoViewCompleter.resolve(createRenderProtoView());\n      PromiseWrapper.all([compiler.compile(MainComponent), compiler.compile(MainComponent)]).then((protoViews) => {\n        expect(protoViews[0]).toBe(expectedProtoView);\n        expect(protoViews[1]).toBe(expectedProtoView);\n        async.done();\n      });\n    }));\n    it('should allow recursive components', inject([AsyncTestCompleter], (async) => {\n      tplResolver.setView(MainComponent, new View({template: '<div></div>'}));\n      var mainProtoView = createProtoView([createComponentElementBinder(reader, MainComponent)]);\n      var compiler = createCompiler([createRenderProtoView([createRenderComponentElementBinder(0)])], [mainProtoView]);\n      compiler.compile(MainComponent).then((protoView) => {\n        expect(protoView).toBe(mainProtoView);\n        expect(mainProtoView.elementBinders[0].nestedProtoView).toBe(mainProtoView);\n        async.done();\n      });\n    }));\n    it('should create host proto views', inject([AsyncTestCompleter], (async) => {\n      renderer.spy('createHostProtoView').andCallFake((componentId) => {\n        return PromiseWrapper.resolve(createRenderProtoView([createRenderComponentElementBinder(0)]));\n      });\n      tplResolver.setView(MainComponent, new View({template: '<div></div>'}));\n      var rootProtoView = createProtoView([createComponentElementBinder(reader, MainComponent)]);\n      var mainProtoView = createProtoView();\n      var compiler = createCompiler([createRenderProtoView()], [rootProtoView, mainProtoView]);\n      compiler.compileInHost(MainComponent).then((protoView) => {\n        expect(protoView).toBe(rootProtoView);\n        expect(rootProtoView.elementBinders[0].nestedProtoView).toBe(mainProtoView);\n        async.done();\n      });\n    }));\n    it('should create imperative proto views', inject([AsyncTestCompleter], (async) => {\n      renderer.spy('createImperativeComponentProtoView').andCallFake((rendererId) => {\n        return PromiseWrapper.resolve(createRenderProtoView([]));\n      });\n      tplResolver.setView(MainComponent, new View({renderer: 'some-renderer'}));\n      var mainProtoView = createProtoView();\n      var compiler = createCompiler([], [mainProtoView]);\n      compiler.compile(MainComponent).then((protoView) => {\n        expect(protoView).toBe(mainProtoView);\n        expect(renderer.spy('createImperativeComponentProtoView')).toHaveBeenCalledWith('some-renderer');\n        async.done();\n      });\n    }));\n  });\n}\nfunction createDirectiveBinding(reader, type) {\n  var meta = reader.read(type);\n  return DirectiveBinding.createFromType(meta.type, meta.annotation);\n}\nfunction createProtoView(elementBinders = null) {\n  var pv = new AppProtoView(null, null);\n  if (isBlank(elementBinders)) {\n    elementBinders = [];\n  }\n  pv.elementBinders = elementBinders;\n  return pv;\n}\nfunction createComponentElementBinder(reader, type) {\n  var binding = createDirectiveBinding(reader, type);\n  return new ElementBinder(0, null, 0, null, binding, null);\n}\nfunction createViewportElementBinder(nestedProtoView) {\n  var elBinder = new ElementBinder(0, null, 0, null, null, null);\n  elBinder.nestedProtoView = nestedProtoView;\n  return elBinder;\n}\nfunction createRenderProtoView(elementBinders = null) {\n  if (isBlank(elementBinders)) {\n    elementBinders = [];\n  }\n  return new renderApi.ProtoViewDto({elementBinders: elementBinders});\n}\nfunction createRenderComponentElementBinder(directiveIndex) {\n  return new renderApi.ElementBinder({directives: [new renderApi.DirectiveBinder({directiveIndex: directiveIndex})]});\n}\nfunction createRenderViewportElementBinder(nestedProtoView) {\n  return new renderApi.ElementBinder({nestedProtoView: nestedProtoView});\n}\nclass MainComponent {}\nObject.defineProperty(MainComponent, \"annotations\", {get: function() {\n    return [new Component({selector: 'main-comp'})];\n  }});\nclass NestedComponent {}\nObject.defineProperty(NestedComponent, \"annotations\", {get: function() {\n    return [new Component()];\n  }});\nclass RecursiveComponent {}\nclass SomeDynamicComponentDirective {}\nObject.defineProperty(SomeDynamicComponentDirective, \"annotations\", {get: function() {\n    return [new DynamicComponent()];\n  }});\nclass SomeViewportDirective {}\nObject.defineProperty(SomeViewportDirective, \"annotations\", {get: function() {\n    return [new Viewport()];\n  }});\nclass SomeDecoratorDirective {}\nObject.defineProperty(SomeDecoratorDirective, \"annotations\", {get: function() {\n    return [new Decorator()];\n  }});\nclass IgnoreChildrenDecoratorDirective {}\nObject.defineProperty(IgnoreChildrenDecoratorDirective, \"annotations\", {get: function() {\n    return [new Decorator({compileChildren: false})];\n  }});\nclass DirectiveWithEvents {}\nObject.defineProperty(DirectiveWithEvents, \"annotations\", {get: function() {\n    return [new Decorator({hostListeners: {'someEvent': 'someAction'}})];\n  }});\nclass DirectiveWithProperties {}\nObject.defineProperty(DirectiveWithProperties, \"annotations\", {get: function() {\n    return [new Decorator({hostProperties: {'someField': 'someProp'}})];\n  }});\nclass DirectiveWithBind {}\nObject.defineProperty(DirectiveWithBind, \"annotations\", {get: function() {\n    return [new Decorator({properties: {'a': 'b'}})];\n  }});\nclass DirectiveWithAttributes {\n  constructor(someAttr) {\n    assert.argumentTypes(someAttr, assert.type.string);\n  }\n}\nObject.defineProperty(DirectiveWithAttributes, \"annotations\", {get: function() {\n    return [new Decorator()];\n  }});\nObject.defineProperty(DirectiveWithAttributes, \"parameters\", {get: function() {\n    return [[assert.type.string, new Attribute('someAttr')]];\n  }});\nclass SpyRenderer extends SpyObject {\n  constructor() {\n    super(Renderer);\n  }\n  noSuchMethod(m) {\n    return super.noSuchMethod(m);\n  }\n}\nObject.defineProperty(SpyRenderer, \"annotations\", {get: function() {\n    return [new proxy, new IMPLEMENTS(Renderer)];\n  }});\nclass FakeUrlResolver extends UrlResolver {\n  constructor() {\n    super();\n  }\n  resolve(baseUrl, url) {\n    assert.argumentTypes(baseUrl, assert.type.string, url, assert.type.string);\n    if (baseUrl === null && url == './') {\n      return assert.returnType(('http://www.app.com'), assert.type.string);\n    }\n    return assert.returnType((baseUrl + url), assert.type.string);\n  }\n}\nObject.defineProperty(FakeUrlResolver.prototype.resolve, \"parameters\", {get: function() {\n    return [[assert.type.string], [assert.type.string]];\n  }});\nclass FakeTemplateResolver extends TemplateResolver {\n  constructor() {\n    super();\n    this._cmpTemplates = MapWrapper.create();\n  }\n  resolve(component) {\n    assert.argumentTypes(component, Type);\n    var template = MapWrapper.get(this._cmpTemplates, component);\n    if (isBlank(template)) {\n      throw 'No template';\n    }\n    return assert.returnType((template), View);\n  }\n  setView(component, template) {\n    assert.argumentTypes(component, Type, template, View);\n    MapWrapper.set(this._cmpTemplates, component, template);\n  }\n}\nObject.defineProperty(FakeTemplateResolver.prototype.resolve, \"parameters\", {get: function() {\n    return [[Type]];\n  }});\nObject.defineProperty(FakeTemplateResolver.prototype.setView, \"parameters\", {get: function() {\n    return [[Type], [View]];\n  }});\nclass FakeProtoViewFactory extends ProtoViewFactory {\n  constructor(results) {\n    super(null);\n    this.requests = [];\n    this._results = results;\n  }\n  createProtoView(componentBinding, renderProtoView, directives) {\n    assert.argumentTypes(componentBinding, DirectiveBinding, renderProtoView, renderApi.ProtoViewDto, directives, assert.genericType(List, DirectiveBinding));\n    ListWrapper.push(this.requests, [componentBinding, renderProtoView, directives]);\n    return assert.returnType((ListWrapper.removeAt(this._results, 0)), AppProtoView);\n  }\n}\nObject.defineProperty(FakeProtoViewFactory.prototype.createProtoView, \"parameters\", {get: function() {\n    return [[DirectiveBinding], [renderApi.ProtoViewDto], [assert.genericType(List, DirectiveBinding)]];\n  }});\n//# sourceMappingURL=compiler_spec.js.map\n\n//# sourceMappingURL=./compiler_spec.map"]}