{"version":3,"sources":["directive_parser_spec.es6"],"names":[],"mappings":"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","file":"angular2/test/render/dom/compiler/directive_parser_spec.js","sourcesContent":["import {assert} from \"rtts_assert/rtts_assert\";\nimport {describe,\n  beforeEach,\n  it,\n  xit,\n  expect,\n  iit,\n  ddescribe,\n  el} from 'angular2/test_lib';\nimport {isPresent,\n  assertionsEnabled} from 'angular2/src/facade/lang';\nimport {ListWrapper,\n  MapWrapper,\n  StringMapWrapper} from 'angular2/src/facade/collection';\nimport {DirectiveParser} from 'angular2/src/render/dom/compiler/directive_parser';\nimport {CompilePipeline} from 'angular2/src/render/dom/compiler/compile_pipeline';\nimport {CompileStep} from 'angular2/src/render/dom/compiler/compile_step';\nimport {CompileElement} from 'angular2/src/render/dom/compiler/compile_element';\nimport {CompileControl} from 'angular2/src/render/dom/compiler/compile_control';\nimport {ViewDefinition,\n  DirectiveMetadata} from 'angular2/src/render/api';\nimport {Lexer,\n  Parser} from 'angular2/change_detection';\nexport function main() {\n  describe('DirectiveParser', () => {\n    var parser,\n        annotatedDirectives;\n    beforeEach(() => {\n      annotatedDirectives = [someComponent, someComponent2, someComponent3, someViewport, someViewport2, someDecorator, someDecoratorIgnoringChildren, someDecoratorWithProps, someDecoratorWithHostProperties, someDecoratorWithEvents, someDecoratorWithGlobalEvents];\n      parser = new Parser(new Lexer());\n    });\n    function createPipeline(propertyBindings = null) {\n      return new CompilePipeline([new MockStep((parent, current, control) => {\n        if (isPresent(propertyBindings)) {\n          StringMapWrapper.forEach(propertyBindings, (ast, name) => {\n            current.bindElement().bindProperty(name, ast);\n          });\n        }\n      }), new DirectiveParser(parser, annotatedDirectives)]);\n    }\n    function process(el, propertyBindings = null) {\n      var pipeline = createPipeline(propertyBindings);\n      return ListWrapper.map(pipeline.process(el), (ce) => ce.inheritedElementBinder);\n    }\n    it('should not add directives if they are not used', () => {\n      var results = process(el('<div></div>'));\n      expect(results[0]).toBe(null);\n    });\n    it('should detect directives in attributes', () => {\n      var results = process(el('<div some-decor></div>'));\n      expect(results[0].directives[0].directiveIndex).toBe(annotatedDirectives.indexOf(someDecorator));\n    });\n    it('should detect directives with multiple attributes', () => {\n      var results = process(el('<input type=text control=one></input>'));\n      expect(results[0].directives[0].directiveIndex).toBe(annotatedDirectives.indexOf(someComponent3));\n    });\n    it('should compile children by default', () => {\n      var results = createPipeline().process(el('<div some-decor></div>'));\n      expect(results[0].compileChildren).toEqual(true);\n    });\n    it('should stop compiling children when specified in the directive config', () => {\n      var results = createPipeline().process(el('<div some-decor-ignoring-children></div>'));\n      expect(results[0].compileChildren).toEqual(false);\n    });\n    it('should bind directive properties from bound properties', () => {\n      var results = process(el('<div some-decor-props></div>'), {'elProp': parser.parseBinding('someExpr', '')});\n      var directiveBinding = results[0].directives[0];\n      expect(MapWrapper.get(directiveBinding.propertyBindings, 'dirProp').source).toEqual('someExpr');\n    });\n    it('should bind directive properties with pipes', () => {\n      var results = process(el('<div some-decor-props></div>'), {'elProp': parser.parseBinding('someExpr', '')});\n      var directiveBinding = results[0].directives[0];\n      var pipedProp = MapWrapper.get(directiveBinding.propertyBindings, 'doubleProp');\n      var simpleProp = MapWrapper.get(directiveBinding.propertyBindings, 'dirProp');\n      expect(pipedProp.ast.name).toEqual('double');\n      expect(pipedProp.ast.exp).toEqual(simpleProp.ast);\n      expect(simpleProp.source).toEqual('someExpr');\n    });\n    it('should bind directive properties from attribute values', () => {\n      var results = process(el('<div some-decor-props el-prop=\"someValue\"></div>'));\n      var directiveBinding = results[0].directives[0];\n      var simpleProp = MapWrapper.get(directiveBinding.propertyBindings, 'dirProp');\n      expect(simpleProp.source).toEqual('someValue');\n    });\n    it('should bind host directive properties', () => {\n      var element = el('<input some-decor-with-host-props>');\n      var results = process(element);\n      var directiveBinding = results[0].directives[0];\n      var ast = MapWrapper.get(directiveBinding.hostPropertyBindings, 'hostProperty');\n      expect(ast.source).toEqual('dirProp');\n    });\n    it('should read attribute values', () => {\n      var element = el('<input some-decor-props some-attr=\"someValue\">');\n      var results = process(element);\n      expect(MapWrapper.get(results[0].readAttributes, 'some-attr')).toEqual('someValue');\n    });\n    it('should bind directive events', () => {\n      var results = process(el('<div some-decor-events></div>'));\n      var directiveBinding = results[0].directives[0];\n      expect(directiveBinding.eventBindings.length).toEqual(1);\n      var eventBinding = directiveBinding.eventBindings[0];\n      expect(eventBinding.fullName).toEqual('click');\n      expect(eventBinding.source.source).toEqual('doIt()');\n    });\n    it('should bind directive global events', () => {\n      var results = process(el('<div some-decor-globalevents></div>'));\n      var directiveBinding = results[0].directives[0];\n      expect(directiveBinding.eventBindings.length).toEqual(1);\n      var eventBinding = directiveBinding.eventBindings[0];\n      expect(eventBinding.fullName).toEqual('window:resize');\n      expect(eventBinding.source.source).toEqual('doItGlobal()');\n    });\n    describe('viewport directives', () => {\n      it('should not allow multiple viewport directives on the same element', () => {\n        expect(() => {\n          process(el('<template some-vp some-vp2></template>'));\n        }).toThrowError('Only one viewport directive is allowed per element - check ' + (assertionsEnabled() ? '<template some-vp some-vp2>' : 'null'));\n      });\n      it('should not allow viewport directives on non <template> elements', () => {\n        expect(() => {\n          process(el('<div some-vp></div>'));\n        }).toThrowError('Viewport directives need to be placed on <template> elements or elements with template attribute - check ' + (assertionsEnabled() ? '<div some-vp>' : 'null'));\n      });\n    });\n    describe('component directives', () => {\n      it('should save the component id', () => {\n        var results = process(el('<div some-comp></div>'));\n        expect(results[0].componentId).toEqual('someComponent');\n      });\n      it('should not allow multiple component directives on the same element', () => {\n        expect(() => {\n          process(el('<div some-comp some-comp2></div>'));\n        }).toThrowError('Only one component directive is allowed per element - check ' + (assertionsEnabled() ? '<div some-comp some-comp2>' : 'null'));\n      });\n      it('should not allow component directives on <template> elements', () => {\n        expect(() => {\n          process(el('<template some-comp></template>'));\n        }).toThrowError('Only template directives are allowed on template elements - check ' + (assertionsEnabled() ? '<template some-comp>' : 'null'));\n      });\n    });\n  });\n}\nclass MockStep extends CompileStep {\n  constructor(process) {\n    super();\n    this.processClosure = process;\n  }\n  process(parent, current, control) {\n    assert.argumentTypes(parent, CompileElement, current, CompileElement, control, CompileControl);\n    this.processClosure(parent, current, control);\n  }\n}\nObject.defineProperty(MockStep.prototype.process, \"parameters\", {get: function() {\n    return [[CompileElement], [CompileElement], [CompileControl]];\n  }});\nvar someComponent = new DirectiveMetadata({\n  selector: '[some-comp]',\n  id: 'someComponent',\n  type: DirectiveMetadata.COMPONENT_TYPE\n});\nvar someComponent2 = new DirectiveMetadata({\n  selector: '[some-comp2]',\n  id: 'someComponent2',\n  type: DirectiveMetadata.COMPONENT_TYPE\n});\nvar someComponent3 = new DirectiveMetadata({\n  selector: 'input[type=text][control]',\n  id: 'someComponent3',\n  type: DirectiveMetadata.COMPONENT_TYPE\n});\nvar someViewport = new DirectiveMetadata({\n  selector: '[some-vp]',\n  id: 'someViewport',\n  type: DirectiveMetadata.VIEWPORT_TYPE\n});\nvar someViewport2 = new DirectiveMetadata({\n  selector: '[some-vp2]',\n  id: 'someViewport2',\n  type: DirectiveMetadata.VIEWPORT_TYPE\n});\nvar someDecorator = new DirectiveMetadata({selector: '[some-decor]'});\nvar someDecoratorIgnoringChildren = new DirectiveMetadata({\n  selector: '[some-decor-ignoring-children]',\n  compileChildren: false\n});\nvar someDecoratorWithProps = new DirectiveMetadata({\n  selector: '[some-decor-props]',\n  properties: MapWrapper.createFromStringMap({\n    'dirProp': 'elProp',\n    'doubleProp': 'elProp | double'\n  }),\n  readAttributes: ['some-attr']\n});\nvar someDecoratorWithHostProperties = new DirectiveMetadata({\n  selector: '[some-decor-with-host-props]',\n  hostProperties: MapWrapper.createFromStringMap({'dirProp': 'hostProperty'})\n});\nvar someDecoratorWithEvents = new DirectiveMetadata({\n  selector: '[some-decor-events]',\n  hostListeners: MapWrapper.createFromStringMap({'click': 'doIt()'})\n});\nvar someDecoratorWithGlobalEvents = new DirectiveMetadata({\n  selector: '[some-decor-globalevents]',\n  hostListeners: MapWrapper.createFromStringMap({'window:resize': 'doItGlobal()'})\n});\n//# sourceMappingURL=directive_parser_spec.js.map\n\n//# sourceMappingURL=./directive_parser_spec.map"]}